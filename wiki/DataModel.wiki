#labels design,database
|| *subjects* ||||||
||id||long||pk||
||type||char(1)||u/g||

|| *users* ||||||
||id||long||pk, fk subjects||
||username||varchar(64)||immutable||
||password||varchar(64)||hash encrypted of 64||
||fullname||varchar(256)||||
||email||varchar(321)||||
||active||char(1)||y/n||
||date_created||datetime||||
||last_login||datetime||||

|| *groups* ||||||
||id||long||pk, fk subjects||
||name||varchar(256)||||

|| *user_groups* ||||||
||id||long||pk||
||user_id||long||fk users||
||group_id||long||fk groups||

|| *subject_roles* ||||||
||id||long||pk||
||subject_id||long||fk subjects||
||role_id||long||fk roles||

|| *roles* ||||||
||id||long||pk||
||name||varchar(256)||||

|| *passwords* ||||||
||id||long||pk||
||name||varchar(256)||||
||username||varchar(64)||immutable||
||notes||text||||
||max_history||int||-1 = infinite?||
||active||char(1)||y/n||
||date_created||datetime||||
||user_created_id||long||fk users||
||date_last_update||datetime||||
||user_last_update_id||long||fk users||

|| *password_data* ||||||
||id||long||pk||
||password_id||long||fk passwords||
||password||varchar(108)||encrypted of 64||
||date_created||datetime||||
||user_created_id||long||fk users||

|| *password_access_audit* ||||||
||id||long||pk||
||password_id||long||fk passwords||
||user_id||long||fk users||
||date_accessed||datetime||||

|| *permissions* ||||||
||id||long||pk||
||password_id||long||fk passwords||
||subject_id||long||fk subjects||
||access_level||int||1,2,3||

|| *templates* ||||||
||id||long||pk||
||user_id||long||fk users||
||name||varchar(256)||||
||share||char(1)||y/n||

|| *template_details* ||||||
||id||long||pk||
||template_id||long||fk templates||
||subject_id||long||fk subjects||
||access_level||int||1,2,3||

|| *tags* ||||||
||id||long||pk||
||name||varchar(256)||||

|| *password_tags* ||||||
||id||long||pk||
||password_id||long||fk passwords||
||tag_id||long||fk tags||

|| *global_settings* ||||||
||id||long||pk||
||name||varchar(256)||||
||value||varchar(256)||||

|| *user_settings* ||||||
||id||long||pk||
||user_id||long||fk users||
||name||varchar(256)||||
||value||varchar(256)||||